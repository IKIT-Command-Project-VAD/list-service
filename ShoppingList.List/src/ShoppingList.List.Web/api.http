# For more info on HTTP files go to https://aka.ms/vs/httpfile

@host=https://localhost
@port=57679
@token=eyJhbGciOi...your.jwt...

# Common auth header (replace token above)
###
GET {{host}}:{{port}}/api/lists
Authorization: Bearer {{token}}

// Shopping lists
###
POST {{host}}:{{port}}/api/lists
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "name": "Weekly groceries"
}

###
@listId={{listId}}
PUT {{host}}:{{port}}/api/lists/{{listId}}
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "name": "Updated list name"
}

###
DELETE {{host}}:{{port}}/api/lists/{{listId}}
Authorization: Bearer {{token}}

// List items
###
GET {{host}}:{{port}}/api/lists/{{listId}}/items
Authorization: Bearer {{token}}

###
POST {{host}}:{{port}}/api/lists/{{listId}}/items
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "name": "Milk",
  "quantity": 2,
  "unit": "l",
  "price": 2.50,
  "currency": "USD",
  "isChecked": false,
  "categoryId": null
}

###
@itemId={{itemId}}
PUT {{host}}:{{port}}/api/lists/{{listId}}/items/{{itemId}}
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "name": "Oat milk",
  "quantity": 3,
  "unit": "l",
  "price": 3.10,
  "currency": "USD",
  "isChecked": true
}

###
DELETE {{host}}:{{port}}/api/lists/{{listId}}/items/{{itemId}}
Authorization: Bearer {{token}}

// Categories
###
GET {{host}}:{{port}}/api/categories
Authorization: Bearer {{token}}

###
POST {{host}}:{{port}}/api/categories
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "name": "Dairy",
  "icon": "ðŸ§€"
}

// Share links
###
GET {{host}}:{{port}}/api/lists/{{listId}}/share-links
Authorization: Bearer {{token}}

###
POST {{host}}:{{port}}/api/lists/{{listId}}/share-links
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "createdBy": "00000000-0000-0000-0000-000000000001",
  "permissionType": "Write",
  "expiresAt": null
}

###
@shareId={{shareId}}
PUT {{host}}:{{port}}/api/lists/{{listId}}/share-links/{{shareId}}
Content-Type: application/json
Authorization: Bearer {{token}}
{
  "permissionType": "Read",
  "expiresAt": null,
  "isActive": true
}

###
DELETE {{host}}:{{port}}/api/lists/{{listId}}/share-links/{{shareId}}
Authorization: Bearer {{token}}